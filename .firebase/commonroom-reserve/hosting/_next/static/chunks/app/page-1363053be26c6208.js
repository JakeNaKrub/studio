(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1235:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Z});var s=a(5155),r=a(2400),n=a(5317),l=a(6671),i=a(2115),d=a(285),o=a(157);let c=(0,o.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var u=a(1920);let m=(0,o.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var f=a(8442),h=a(4017),x=a(4428),p=a(5185),v=a(6081),y=a(9196),b=a(8905),g=a(3540),j=a(4315),w=a(5845),N=a(1285),_="Tabs",[k,C]=(0,v.A)(_,[y.RG]),M=(0,y.RG)(),[R,D]=k(_),z=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:d,activationMode:o="automatic",...c}=e,u=(0,j.jH)(d),[m,f]=(0,w.i)({prop:r,onChange:n,defaultProp:l});return(0,s.jsx)(R,{scope:a,baseId:(0,N.B)(),value:m,onValueChange:f,orientation:i,dir:u,activationMode:o,children:(0,s.jsx)(g.sG.div,{dir:u,"data-orientation":i,...c,ref:t})})});z.displayName=_;var A="TabsList",G=i.forwardRef((e,t)=>{let{__scopeTabs:a,loop:r=!0,...n}=e,l=D(A,a),i=M(a);return(0,s.jsx)(y.bL,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:r,children:(0,s.jsx)(g.sG.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:t})})});G.displayName=A;var I="TabsTrigger",L=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,disabled:n=!1,...l}=e,i=D(I,a),d=M(a),o=E(i.baseId,r),c=F(i.baseId,r),u=r===i.value;return(0,s.jsx)(y.q7,{asChild:!0,...d,focusable:!n,active:u,children:(0,s.jsx)(g.sG.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:o,...l,ref:t,onMouseDown:(0,p.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(r)}),onKeyDown:(0,p.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(r)}),onFocus:(0,p.m)(e.onFocus,()=>{let e="manual"!==i.activationMode;u||n||!e||i.onValueChange(r)})})})});L.displayName=I;var T="TabsContent",P=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,forceMount:n,children:l,...d}=e,o=D(T,a),c=E(o.baseId,r),u=F(o.baseId,r),m=r===o.value,f=i.useRef(m);return i.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(b.C,{present:n||m,children:a=>{let{present:r}=a;return(0,s.jsx)(g.sG.div,{"data-state":m?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:u,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&l})}})});function E(e,t){return"".concat(e,"-trigger-").concat(t)}function F(e,t){return"".concat(e,"-content-").concat(t)}P.displayName=T;var V=a(9434);let O=i.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(G,{ref:t,className:(0,V.cn)("inline-flex h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});O.displayName=G.displayName;let U=i.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(L,{ref:t,className:(0,V.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",a),...r})});U.displayName=L.displayName;let q=i.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(P,{ref:t,className:(0,V.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});q.displayName=P.displayName;var K=a(6695);function $(e){let{reservations:t}=e;return i.useMemo(()=>t.filter(e=>new Date(e.date)>new Date).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).slice(0,5),[t]),(0,s.jsx)("div",{className:"py-4 md:py-10",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Reservations"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage common room bookings"})]}),(0,s.jsx)("div",{children:(0,s.jsx)(f.p,{children:(0,s.jsxs)(d.$,{className:"w-full",children:[(0,s.jsx)(c,{className:"mr-2"}),"Create Reservation"]})})})]}),(0,s.jsxs)(z,{defaultValue:"calendar",className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"All Reservations"}),(0,s.jsxs)(O,{className:"grid w-full grid-cols-2 md:w-[200px]",children:[(0,s.jsxs)(U,{value:"calendar",children:[(0,s.jsx)(u.A,{className:"mr-2"}),"Calendar"]}),(0,s.jsxs)(U,{value:"list",children:[(0,s.jsx)(m,{className:"mr-2"}),"List"]})]})]}),(0,s.jsx)(q,{value:"calendar",children:(0,s.jsx)(h.U,{reservations:t})}),(0,s.jsx)(q,{value:"list",children:(0,s.jsx)(K.Zp,{children:(0,s.jsx)(K.Wu,{className:"p-0",children:(0,s.jsx)(x.a,{reservations:t})})})})]})]})})}function Z(){let e=(0,l.useFirestore)(),t=(0,r.$e)(()=>e?(0,n.P)((0,n.rJ)(e,"reservations"),(0,n.My)("date","desc")):null,[e]),{data:a,isLoading:i}=(0,l.useCollection)(t);return i?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)($,{reservations:a||[]})})}},2751:(e,t,a)=>{Promise.resolve().then(a.bind(a,1235))},4017:(e,t,a)=>{"use strict";a.d(t,{U:()=>v});var s=a(5155),r=a(2115),n=a(3013),l=a(965),i=a(3158),d=a(3900),o=a(9434),c=a(285);function u(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(d.hv,{showOutsideDays:r,className:(0,o.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,c.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,c.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(l.A,{className:(0,o.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(i.A,{className:(0,o.cn)("h-4 w-4",t),...a})}},...n})}u.displayName="Calendar";var m=a(8176);let f=m.bL,h=m.l9,x=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:n=4,...l}=e;return(0,s.jsx)(m.ZL,{children:(0,s.jsx)(m.UC,{ref:t,align:r,sideOffset:n,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});x.displayName=m.UC.displayName;var p=a(4428);function v(e){let{reservations:t}=e,[a,l]=r.useState(new Date),i=r.useMemo(()=>t.reduce((e,t)=>{let a=t.date.split("T")[0];return e[a]||(e[a]=[]),e[a].push(t),e},{}),[t]),d=e=>{let t=i[(0,n.GP)(e,"yyyy-MM-dd")]||[];return 0===t.length?(0,s.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,n.GP)(e,"d")}):(0,s.jsxs)(f,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsxs)(c.$,{variant:"ghost",className:"w-full h-full flex flex-col items-center justify-center p-0 rounded-md hover:bg-accent focus:bg-accent-foreground/10 relative",children:[(0,s.jsx)("span",{className:"font-bold",children:(0,n.GP)(e,"d")}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground -mt-1",children:[t.length," bkngs"]}),(0,s.jsx)("div",{className:"absolute bottom-1 w-1 h-1 rounded-full bg-primary"})]})}),(0,s.jsx)(x,{className:"w-full max-w-sm p-0",children:(0,s.jsx)(p.a,{reservations:t})})]})};return(0,s.jsx)(u,{month:a,onMonthChange:l,components:{Day:e=>{let{date:t}=e;return d(t)}},className:"p-0 w-full [&_td]:p-0 [&_tr]:border-0",classNames:{head_cell:"flex-1 text-muted-foreground rounded-md font-normal text-sm",table:"w-full border-collapse space-y-1",row:"flex w-full mt-2",cell:"flex-1 h-24 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20"}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,380,881,263,147,428,441,684,358],()=>t(2751)),_N_E=e.O()}]);